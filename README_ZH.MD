# wvbridge

**è¯­è¨€ï¼š** [English](README.MD) | ç®€ä½“ä¸­æ–‡

wvbridge æ˜¯ä¸€ä¸ª **Compose Multiplatform** åº“ï¼Œç”¨äºåœ¨å„ä¸ªå¹³å°ä¸Šæ¥å…¥**å®¿ä¸»ç³»ç»Ÿçš„ WebView**ï¼Œå¹¶æä¾›ä¸€å¥—ç»Ÿä¸€ã€å¯¹ Kotlin å‹å¥½çš„ APIï¼Œç”¨æ¥æ¡¥æ¥å¸¸è§çš„ WebView èƒ½åŠ›ã€‚

> æ³¨æ„ï¼šæœ¬é¡¹ç›®ä»å¤„äºæ´»è·ƒå¼€å‘é˜¶æ®µï¼ŒAPI ä¸å¹³å°è¦†ç›–èŒƒå›´å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚

## é¡¹ç›®çŠ¶æ€

### è®¡åˆ’ï¼ˆRoadmapï¼‰

**å·²å®Œæˆ**
- macOS AWT å®ç°

**å¾…å®Œæˆ / TODO**
- Windows AWT å®ç°
- Linux AWT å®ç°
- iOS å®ç°
- Android å®ç°
- commonï¼ˆå…±äº«ï¼‰å¹³å° API è®¾è®¡

### ç‰¹æ€§çŸ©é˜µ

å›¾ä¾‹ï¼šâœ… å·²å®ç° Â· ğŸš§ æ–½å·¥ä¸­ Â· âŒ æœªå®ç° Â· â›” æ— æ³•æ”¯æŒ

| ç‰¹æ€§ | macOS | Windows | Linux | iOS | Android |
| --- | --- | --- | --- | --- | --- |
| è¯·æ±‚æ‹¦æˆª | âœ… | âŒ | âŒ | âŒ | âŒ |
| è¯·æ±‚ä¿®æ”¹ | âŒ | âŒ | âŒ | âŒ | âŒ |
| è¿›åº¦ç›‘å¬ | âœ… | âŒ | âŒ | âŒ | âŒ |
| ä¸»åŠ¨åŠ è½½ URL | âœ… | âŒ | âŒ | âŒ | âŒ |
| JS æ³¨å…¥ | âŒ | âŒ | âŒ | âŒ | âŒ |

## common å¹³å°è®¾è®¡ï¼ˆé«˜å±‚è¯´æ˜ï¼‰

ç›®æ ‡æ˜¯åœ¨ `core` ä¸­æä¾›**å•ä¸€çš„ common API**ï¼Œå¹¶ç”±å„ä¸ªå¹³å°æä¾›å„è‡ªçš„åç«¯å®ç°ï¼š

- `core`ï¼šé€šç”¨æ¥å£ã€äº‹ä»¶ä¸å…±äº«é€»è¾‘
- `platform/*`ï¼šå¹³å°ä¾§ WebView é€‚é…/åç«¯å®ç°
- `sample/*`ï¼šç¤ºä¾‹åº”ç”¨

## è¿è¡Œç¤ºä¾‹åº”ç”¨

- Desktop JVMï¼š`./gradlew :sample:composeApp:run`
- Androidï¼š`open project in Android Studio and run the sample app`
- iOSï¼š`open 'sample/iosApp/iosApp.xcodeproj' in Xcode and run the sample app`
- JavaScriptï¼š`./gradlew :sample:composeApp:jsBrowserRun`
- Wasmï¼š`./gradlew :sample:composeApp:wasmJsBrowserRun`

## å‘å¸ƒåˆ° MavenLocal

1) è¿è¡Œ `./gradlew :lib:publishToMavenLocal`
2) æ‰“å¼€ `~/.m2/repository/top/kagg886/wvbridge/`

## å‘å¸ƒåˆ° MavenCentral

1) åœ¨ Sonatype åˆ›å»ºè´¦å·ä¸ namespaceï¼š  
   https://central.sonatype.org/register/central-portal/#create-an-account
2) åœ¨ `./lib/build.gradle.kts` ä¸­æ·»åŠ  developer idã€nameã€email ä¸é¡¹ç›® URL  
3) ç”Ÿæˆ GPG keyï¼š  
   https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/#generating-a-gpg-key-pair
   ```
   gpg --full-gen-key
   gpg --keyserver keyserver.ubuntu.com --send-keys XXXXXXXX
   gpg --export-secret-key XXXXXXXX > XXXXXXXX.gpg
   ```
4) åœ¨ `gradle.properties` ä¸­æ·»åŠ ï¼š
   ```
   signing.keyId=XXXXXXXX
   signing.password=[key password]
   signing.secretKeyRingFile=../XXXXXXXX.gpg
   mavenCentralUsername=[generated username]
   mavenCentralPassword=[generated password]
   ```
5) è¿è¡Œ `./gradlew :lib:publishAndReleaseToMavenCentral --no-configuration-cache`
